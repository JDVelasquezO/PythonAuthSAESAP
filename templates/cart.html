{% extends "base.html" %}

{% block title %}Perfil{% endblock %}

{% block navbar_links %}
    <li><a href="{{ url_for('auth.home') }}">Perfil</a></li>
    <li><a href="{{ url_for('catalog.products') }}">Catálogo</a></li>
    <li><a href="{{ url_for('cart.viewCart') }}"></a></li>
    <li><a href="{{ url_for('cart.viewCart') }}">
        <i class="material-icons">shopping_cart</i>
    </a></li>
    <li><a href="{{ url_for('auth.logout') }}">Cerrar Sesión</a></li>
{% endblock %}

{% block header %}Carrito de Compras{% endblock %}
{% block content %}
    <table class="striped">
        <thead>
            <tr>
                <th>Imagen</th>
                <th>Producto</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Acción</th>
            </tr>
        </thead>
        <tbody>
            {% for productId, item in cart.items() %}
            <tr>
                <td>
                    <img width="50" src="{{ url_for('static', filename='uploads/'+item.picture) }}" alt="Imagen">
                </td>
                <td>
                    {{ item.name }}
                </td>
                <td>
                    {{ item.price }}
                </td>
                <td>
                    {{ item.quantity }}
                </td>
                <td>
                    <form action="{{ url_for('cart.removeFromCart', productId=productId) }}" 
                        method="post">
                        <button type="submit" class="btn red">Eliminar</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}